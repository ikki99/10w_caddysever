# Caddy 管理器 - 快速参考

## 🚀 Caddy 控制按钮说明

### 状态显示
```
✅ Caddy 运行中 (v2.10.2)  ← 绿色，显示版本
❌ Caddy 未运行            ← 红色
```

### 控制按钮

#### 当 Caddy 运行中：

**🟡 停止**
- 作用：停止 Caddy 服务
- ⚠️ 警告：所有网站将无法访问
- 用途：临时维护

**🔵 重载配置** ⭐ 推荐
- 作用：重新加载配置
- ✅ 优点：零停机，用户无感知
- 用途：配置修改后使用
- 原理：caddy reload

**🔵 重启**
- 作用：完全重启服务
- ⚠️ 注意：1-2秒服务中断
- 用途：异常情况，内存清理

#### 当 Caddy 未运行：

**🟢 启动**
- 作用：启动 Caddy 服务
- 自动加载配置
- 开始提供 Web 服务

---

## 📋 常见操作流程

### 添加新项目
```
1. 点击"新建项目"
2. 填写配置信息
3. 点击"创建"
   → 系统自动重载配置 ✅
4. 项目立即可用
```

### 修改项目配置
```
1. 点击项目的"编辑"
2. 修改配置
3. 保存
   → 系统自动重载 ✅
4. 配置立即生效
```

### 启用 SSL 证书
```
1. 编辑项目
2. 填写域名
3. 启用 SSL
4. 保存
   → 自动申请证书 ✅
5. HTTPS 自动生效
```

### 查看日志
```
1. 切换到"日志"标签
2. 点击"刷新日志"
3. 查看 Caddy 运行日志
```

---

## 💡 最佳实践

### 1. 配置修改后
**推荐**：使用"重载配置"
- ✅ 零停机
- ✅ 不影响现有连接
- ✅ 平滑切换

**不推荐**：使用"重启"
- ❌ 服务中断
- ❌ 连接断开

### 2. 异常处理
如果遇到问题：
```
1. 查看日志（日志标签）
2. 检查配置（项目列表）
3. 尝试重启（重启按钮）
4. 查看诊断（诊断工具）
```

### 3. 定期维护
```
- 每天：检查运行状态
- 每周：查看日志
- 每月：检查 SSL 证书
```

---

## ⚡ 快捷键（计划中）

目前所有操作通过点击按钮完成，未来可能添加：

```
Ctrl+R  - 重载配置
Ctrl+S  - 停止服务
Ctrl+T  - 重启服务
```

---

## 🔍 状态判断

### Caddy 运行正常
- ✅ 状态显示绿色
- ✅ 显示版本号
- ✅ 网站可以访问
- ✅ 可以重载/重启/停止

### Caddy 未运行
- ❌ 状态显示红色
- ❌ 网站无法访问
- ❌ 只能启动

### Caddy 异常
- 🟡 状态异常
- 🟡 日志有错误
- 🟡 需要重启

---

## 📞 遇到问题？

### 启动失败
1. 检查 Caddy 是否安装
2. 查看配置文件语法
3. 检查端口占用

### 重载失败
1. 验证配置文件
2. 查看错误日志
3. 尝试使用重启

### 证书问题
1. 检查域名 DNS
2. 确认端口开放（80、443）
3. 使用 SSL 诊断工具

---

## 🎯 记住这些

✅ **添加/修改项目 → 自动重载**
✅ **配置更新 → 用"重载"不用"重启"**
✅ **版本号显示 → 服务正常**
✅ **绿色 = 好，红色 = 不好**
✅ **操作前会提示 → 看清楚再确认**

---

**提示**：所有操作都需要登录认证，危险操作会二次确认，放心使用！
