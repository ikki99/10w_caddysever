# Caddy Manager v0.0.11 修复说明

## 修复内容

### 1. 编译脚本 (build.bat)
- ✅ 修复中文乱码问题
- ✅ 使用 UTF-8 编码
- ✅ 优化输出格式

### 2. 托盘图标
- ✅ 修复图标加载错误
- ✅ 添加图标文件读取逻辑

### 3. Caddyfile 生成
- ✅ 修复 `reverse_proxy /` 导致子路径404的问题
- ✅ 改为 `reverse_proxy localhost:port` 代理所有请求
- ✅ 添加域名验证
- ✅ 添加SSL配置检测

### 4. 项目管理
- ✅ 完善项目编辑界面
- ✅ 添加项目状态实时检测
- ✅ 添加启动错误诊断
- ✅ 添加SSL证书检查功能
- ✅ 添加详细的错误提示

### 5. SSL 诊断
- ✅ 实现域名DNS检测
- ✅ 实现端口检测(80/443)
- ✅ 实现证书有效性检查
- ✅ 提供详细的修复建议

### 6. 错误处理
- ✅ 统一错误代码体系
- ✅ 添加详细的错误说明
- ✅ 提供操作指引和教程链接
- ✅ 添加日志查看功能

## 使用方法

### 编译
```bash
build.bat
```

### 运行
```bash
caddy-manager.exe
```

### 诊断
在管理界面中:
1. 进入"项目管理"标签
2. 点击项目列表中的"🔍 检查SSL"按钮
3. 查看详细的诊断结果和修复建议

## 常见问题解决

### SSL 申请失败
1. 确保域名已正确解析到服务器IP
2. 确保80和443端口已开放
3. 确保以管理员权限运行程序
4. 查看 Caddy 日志: `data/caddy/logs/`

### 静态文件404
- 已修复: `reverse_proxy /` → `reverse_proxy localhost:port`
- 重新编辑项目后会自动更新配置

### 项目启动失败
- 查看详细错误信息
- 检查端口是否被占用
- 检查可执行文件路径
- 检查权限配置

## 更新日志

v0.0.11 (2025-01-08)
- 修复所有已知问题
- 完善错误提示系统
- 增强SSL诊断功能
- 优化用户体验
