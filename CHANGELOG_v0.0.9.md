# 更新日志 - v0.0.9

## 新增功能

### ✅ 项目编辑功能
- 项目列表中每个项目新增"编辑"按钮
- 可以修改项目的所有配置（名称、类型、端口、域名、SSL等）
- 编辑和新建共用同一个向导界面，自动识别操作类型

### ✅ 实时状态检测
- 项目状态每5秒自动刷新
- 改进的端口检测算法，更准确地识别项目运行状态
- 同时检查进程和端口占用，双重保障
- 离开项目页面时自动停止刷新，节省资源

### ✅ SSL 证书错误检测
- 新增 SSL 状态检查接口 `/api/caddy/ssl-status`
- 自动检测 Caddy 日志中的 SSL 相关错误
- 识别常见问题：
  - ACME 证书申请失败
  - DNS 验证失败  
  - 网络连接超时
  - 证书申请频率限制
  - 域名授权失败
- 提供详细的错误信息和解决建议
- 项目列表中显示 SSL 警告图标

## 改进优化

### 🔧 状态检测优化
**修改前**: 使用 `netstat -ano | findstr :port` (在 Go 中不工作)
**修改后**: 使用 `netstat -ano` 然后在代码中解析结果

### 🔧 用户体验提升
- 新建/编辑项目后自动检查 SSL 状态
- 保存成功后显示友好提示
- 错误提示更加详细和有帮助
- 项目卡片显示更多状态信息

## 技术改进

### API 接口
- `POST /api/projects/update` - 更新项目配置
- `GET /api/projects/status?id=X` - 查询项目状态
- `GET /api/caddy/ssl-status` - 检查 SSL 状态

### 前端优化
- 添加 `editProject(id)` 函数
- 改进 `submitProject()` 支持更新模式
- 新增 `checkSSLStatus()` SSL 检查函数
- 项目列表自动刷新机制

## 修复的问题

1. ✅ 项目无法修改配置
2. ✅ 项目状态不准确或不更新
3. ✅ SSL 申请失败无提示

## 文件更改

- `internal/api/handlers.go` - 新增 SSL 状态检查
- `internal/api/projects.go` - 改进状态检测和新增状态接口
- `internal/api/template.go` - 支持动态标题
- `main.go` - 注册新路由
- `web/static/app.js` - 前端功能增强

## 下一步计划

- [ ] 添加项目日志实时查看
- [ ] 支持批量操作项目
- [ ] SSL 证书续期提醒
- [ ] 更详细的性能监控

---

**构建日期**: 2025年
**版本**: v0.0.9
**兼容性**: Windows 10/11
